<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            // 长字符串里面寻找短字符串
            function Kmp(source, pattern) {
                //计算表格
                let table = new Array(pattern.length).fill(0);
                {
                    let i = 1;
                    let j = 0;
                    while (i < pattern.length) {
                        if (pattern[i] === pattern[j]) {
                            ++i;
                            ++j;
                            table[i] = j;
                        } else {
                            if (j > 0) {
                                j = table[j];
                            } else {
                                ++i;
                            }
                        }
                    }
                }
                {
                    let i = 0;
                    let j = 0;
                    while (i < source.length) {
                        if (pattern[j] === source[i]) {
                            ++i, ++j;
                        } else {
                            if (j > 0) {
                                j = table[j];
                            } else {
                                ++i;
                            }
                        }
                        if (j === pattern.length) {
                            return true;
                        }
                    }
                    return false;
                }
            }
            console.log(Kmp('Hellwo-kkkksssssss-hello', 'Hello'));
        </script>
    </body>
</html>
